{"version":3,"file":"static/webpack/static/development/pages/showContent.js.69e262950c6629c492e6.hot-update.js","sources":["webpack:///./pages/showContent.js","webpack:///./redux/actions/actions.js"],"sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport * as actions from '../redux/actions/actions';\nimport styled from 'styled-components';\nimport Search from './search'\n\nfunction ShowContent (props) {\n    const {films} = props;\n    const filmContent = films.map((e)=>{\n            const show = e.show;\n            const validationImg = (value) => {\n                if (value && value.medium != null) {\n                    return value.medium\n                }\n                else {\n                    return ''\n                }\n\n            }\n            const validationArr = (value) => {\n                if (value.length >= 1) {\n                    return value.join(', ')\n                }\n                else return value\n            }\n            return (\n                <FilmWrapper key={show.id} >\n                    <div className='filmName'>\n                        <h1>{show.name}</h1>\n                    </div>\n                    <div>\n                        <h3>\n                            {validationArr(show.genres)}\n                        </h3>\n                    </div>\n                    <div>\n                        <img onClick={() => props.actions.withShowFilm(show.id, router.push({pathname: `/filmDeskription`, query: {id}}))} src={ validationImg(show.image)} alt=\"\"/>\n                    </div>\n                </FilmWrapper>)\n        })\n    return (\n        <Wrapper>\n            <Search/>\n            <ContentWrapper>\n                {filmContent}\n            </ContentWrapper>\n        </Wrapper>\n    );\n}\n\n\nfunction mapStateToProps({search}) {\n\n    return {\n        films: search.contents\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators(actions, dispatch)\n    }\n}\nconst Wrapper = styled.div`\n  display: flex;\n flex-direction: column;\n`;\nconst ContentWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap-reverse;\n`;\nconst FilmWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: calc(100% /3 - 50px);\n  padding: 20px;\n  justify-content: center;\n  .filmName{\n    text-align: center;\n  }\n`;\nexport default connect(mapStateToProps, mapDispatchToProps)(ShowContent);","import axios from 'axios';\nimport * as types from './action-types';\nimport history from '../../components/history/history'\n// import Router from 'next/router';\nimport { useRouter } from 'next/router'\n\nexport const  search = value => {\n    return {type: types.SEARCH, value};\n}\nexport const  searchSuccess = data => {\n    return {type: types.GET_SEARCH_SUCCESS, payload:data};\n}\n\nexport const clearInputValue = () => {\n    return {type: types.CLEAR_INPUT_VALUE}\n}\n\nexport const  ShowFilm = data => {\n    return {type: types.SHOW_FILM, payload:data};\n}\n\nexport const  withShowFilm = id => {\n    return (dispatch) => {\n        const queryToUrl = id;\n        const url = `http://api.tvmaze.com/shows/${queryToUrl}`;\n\n        axios.get(url)\n            .then(({data}) => {\n                if(data) {\n                    dispatch(ShowFilm(data))\n                    // const router = useRouter()\n                    // router.push({pathname: `/filmDeskription`, query: {id}})\n                    // Router.push({pathname: `/film`, query: {id}})\n                    // console.log(history)\n                }\n            })\n            .catch(err => {\n\n            });\n    }\n}\n\nexport const withSearch = (query) => {\n    return (dispatch) => {\n        const queryToUrl = query;\n        const url = `http://api.tvmaze.com/search/shows?q=${queryToUrl}`;\n\n        axios.get(url)\n            .then(({data}) => {\n                if(data) {\n                    dispatch(searchSuccess(data))\n                    router.push({pathname: `/film`, query: {id}})\n                    console.log(history)\n                }\n            })\n            .catch(err => {\n\n            });\n    }\n};"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAEA;AAAA;AAEA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AAIA;AAIA;AAWA;;;;;;;;;;;;ACnFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAIA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAIA;AACA;;;;A","sourceRoot":""}